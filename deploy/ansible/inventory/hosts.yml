# Ansible Inventory for E2EE WebRTC Infrastructure
# Update with your actual server IPs

all:
  vars:
    ansible_user: root
    ansible_python_interpreter: /usr/bin/python3

  children:
    signaling:
      hosts:
        signaling-1:
          ansible_host: 10.0.1.10
        signaling-2:
          ansible_host: 10.0.1.11
      vars:
        role: signaling

    turn:
      hosts:
        turn-1:
          ansible_host: 10.0.2.10
          public_ip: "{{ lookup('env', 'TURN_1_PUBLIC_IP') }}"
        turn-2:
          ansible_host: 10.0.2.11
          public_ip: "{{ lookup('env', 'TURN_2_PUBLIC_IP') }}"
      vars:
        role: turn

    redis:
      hosts:
        redis-1:
          ansible_host: 10.0.1.100
      vars:
        role: redis

    # Environment groups
    production:
      children:
        signaling:
        turn:
        redis:
      vars:
        environment: production
        log_level: info

    staging:
      vars:
        environment: staging
        log_level: debug
